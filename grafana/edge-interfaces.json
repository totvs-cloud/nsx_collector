{
  "__inputs": [
    {
      "name": "DS_INFLUXDB",
      "label": "InfluxDB",
      "description": "",
      "type": "datasource",
      "pluginId": "influxdb",
      "pluginName": "InfluxDB"
    }
  ],
  "__requires": [
    {
      "type": "grafana",
      "id": "grafana",
      "name": "Grafana",
      "version": "9.0.0"
    },
    {
      "type": "datasource",
      "id": "influxdb",
      "name": "InfluxDB",
      "version": "1.0.0"
    },
    {
      "type": "panel",
      "id": "table",
      "name": "Table",
      "version": ""
    }
  ],
  "annotations": { "list": [] },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": null,
  "links": [],
  "panels": [
    {
      "datasource": { "type": "influxdb", "uid": "${DS_INFLUXDB}" },
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "thresholds" },
          "custom": {
            "align": "left",
            "cellOptions": { "type": "color-background" },
            "filterable": true,
            "inspect": false
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "transparent", "value": null }
            ]
          }
        },
        "overrides": [
          {
            "matcher": { "id": "byName", "options": "link_speed_mbps" },
            "properties": [
              { "id": "displayName", "value": "Velocidade" },
              { "id": "unit", "value": "none" },
              {
                "id": "mappings",
                "value": [
                  {
                    "type": "value",
                    "options": {
                      "10000": { "text": "10 Gbps", "color": "red", "index": 0 },
                      "25000": { "text": "25 Gbps", "color": "green", "index": 1 }
                    }
                  },
                  {
                    "type": "special",
                    "options": {
                      "match": "null+nan",
                      "result": { "text": "N/A", "color": "orange", "index": 2 }
                    }
                  }
                ]
              },
              {
                "id": "custom.cellOptions",
                "value": { "type": "color-background", "mode": "basic" }
              }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "node_name" },
            "properties": [
              { "id": "displayName", "value": "Edge Node" },
              { "id": "custom.width", "value": 220 }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "interface_id" },
            "properties": [
              { "id": "displayName", "value": "Interface" },
              { "id": "custom.width", "value": 120 }
            ]
          },
          {
            "matcher": { "id": "byName", "options": "site" },
            "properties": [
              { "id": "displayName", "value": "Site" },
              { "id": "custom.width", "value": 80 }
            ]
          }
        ]
      },
      "gridPos": { "h": 20, "w": 24, "x": 0, "y": 0 },
      "id": 1,
      "options": {
        "cellHeight": "sm",
        "footer": { "countRows": false, "fields": "", "reducer": ["sum"], "show": false },
        "showHeader": true,
        "sortBy": [
          { "desc": false, "displayName": "Edge Node" }
        ]
      },
      "pluginVersion": "10.0.0",
      "targets": [
        {
          "datasource": { "type": "influxdb", "uid": "${DS_INFLUXDB}" },
          "query": "from(bucket: \"nsx\")\n  |> range(start: -10m)\n  |> filter(fn: (r) => r._measurement == \"nsx_edge_uplink\" and r._field == \"link_speed_mbps\")\n  |> last()\n  |> keep(columns: [\"site\", \"node_name\", \"interface_id\", \"_value\"])\n  |> rename(columns: {_value: \"link_speed_mbps\"})\n  |> sort(columns: [\"node_name\", \"interface_id\"])",
          "refId": "A"
        }
      ],
      "title": "Edge Nodes — Interfaces e Velocidade",
      "transformations": [
        { "id": "merge", "options": {} }
      ],
      "type": "table"
    }
  ],
  "refresh": "1m",
  "schemaVersion": 38,
  "tags": ["nsx", "edge"],
  "templating": { "list": [] },
  "time": { "from": "now-1h", "to": "now" },
  "timepicker": {},
  "timezone": "browser",
  "title": "NSX — Edge Interfaces",
  "uid": "nsx-edge-ifaces",
  "version": 1
}
